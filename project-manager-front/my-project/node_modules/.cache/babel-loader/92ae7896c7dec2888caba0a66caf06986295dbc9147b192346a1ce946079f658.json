{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"main-page\"\n};\nconst _hoisted_2 = {\n  class: \"content\"\n};\nconst _hoisted_3 = {\n  class: \"role-actions\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"info-box\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _ctx.user ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $options.selectSection('tasks'))\n  }, \"Tasks\")]), $data.selectedSection ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"h2\", null, _toDisplayString($data.selectedSection.toUpperCase()), 1 /* TEXT */), (_openBlock(), _createBlock(_resolveDynamicComponent($options.currentComponent), {\n    data: $data.sectionData || []\n  }, null, 8 /* PROPS */, [\"data\"]))])) : _createCommentVNode(\"v-if\", true)])])) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"names":["key","class","_ctx","user","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","onClick","_cache","$event","$options","selectSection","$data","selectedSection","_hoisted_4","_toDisplayString","toUpperCase","_createBlock","_resolveDynamicComponent","currentComponent","data","sectionData","_createCommentVNode"],"sources":["D:\\programs\\osp\\domains\\Project-manager\\project-manager-front\\my-project\\src\\components\\MainPageExecutor.vue"],"sourcesContent":["<template>\n    <div class=\"main-page\" v-if=\"user\">\n      <div class=\"content\">\n        <div class=\"role-actions\">\n          <button @click=\"selectSection('tasks')\">Tasks</button>\n        </div>\n        <div class=\"info-box\" v-if=\"selectedSection\">\n          <h2>{{ selectedSection.toUpperCase() }}</h2>\n          <component :is=\"currentComponent\" :data=\"sectionData || []\"></component>\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import TasksComponent from './TasksComponent.vue';\n  \n  export default {\n    props: {\n      data: Object,\n    },\n    data() {\n      return {\n        selectedSection: 'tasks', // По умолчанию выбираем вкладку задач\n        sectionData: [], // Инициализируем как пустой массив\n      };\n    },\n    computed: {\n      currentComponent() {\n        switch (this.selectedSection) {\n          case 'tasks':\n            return TasksComponent;\n          default:\n            return null;\n        }\n      },\n    },\n    created() {\n      const userData = localStorage.getItem('user');\n      if (userData) {\n        this.user = JSON.parse(userData);\n        this.fetchSectionData(this.selectedSection); // Загружаем данные задач при создании\n      } else {\n        this.$router.push('/login');\n      }\n    },\n    methods: {\n      selectSection(section) {\n        this.selectedSection = section;\n        this.fetchSectionData(section);\n      },\n      fetchSectionData(section) {\n        let url = '';\n        switch (section) {\n          case 'tasks':\n            url = 'http://127.0.0.1:8000/api/tasks'; // URL для получения задач исполнителя\n            break;\n        }\n        fetch(url, {\n          method: 'GET',\n          credentials: 'include',\n        })\n        .then(response => response.json())\n        .then(data => {\n          this.sectionData = data.data; // Предполагаем, что данные находятся в data\n        })\n        .catch(error => console.error('Error fetching data:', error));\n      },\n    },\n    components: {\n      TasksComponent,\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .content {\n    padding: 20px;\n  }\n  .role-actions {\n    margin-bottom: 20px;\n  }\n  .info-box {\n    border: 1px solid #ccc;\n    padding: 10px;\n    border-radius: 5px;\n  }\n  </style>\n  "],"mappings":";;EAAAA,GAAA;EACSC,KAAK,EAAC;;;EACJA,KAAK,EAAC;AAAS;;EACbA,KAAK,EAAC;AAAc;;EAHjCD,GAAA;EAMaC,KAAK,EAAC;;;SALcC,IAAA,CAAAC,IAAI,I,cAAjCC,mBAAA,CAUM,OAVNC,UAUM,GATJC,mBAAA,CAQM,OARNC,UAQM,GAPJD,mBAAA,CAEM,OAFNE,UAEM,GADJF,mBAAA,CAAsD;IAA7CG,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,aAAa;KAAW,OAAK,E,GAEnBC,KAAA,CAAAC,eAAe,I,cAA3CX,mBAAA,CAGM,OAHNY,UAGM,GAFJV,mBAAA,CAA4C,YAAAW,gBAAA,CAArCH,KAAA,CAAAC,eAAe,CAACG,WAAW,qB,cAClCC,YAAA,CAAwEC,wBARlF,CAQ0BR,QAAA,CAAAS,gBAAgB;IAAGC,IAAI,EAAER,KAAA,CAAAS,WAAW;0CAR9DC,mBAAA,e,OAAAA,mBAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}